# 데이터베이스
> 데이터 != 정보

## 데이터베이스(DB)
* 특정 조직의 여러 사용자가 공유하여 사용할 수 있도록 통합해서 저장한 운영 데이터의 집합
* '데이터의 저장 공간' 자체를 의미하기도 함

## 데이터베이스의 특징
* 실시간 접근 
* 계속 변화 
* 동시 공유 
* 내용 기반 참조 
* 데이터의 무결성 : DB안의 데이터는 오류가 있어서는 안됨
* 데이터의 독립성 : DB와 응용프로그램은 독립적인 관계임
* 보안 : DB안의 데이터는 접근이 허가된 사람만 접근 가능
* 데이터의 중복 최소화 : 동일한 데이터가 여러 군데 중복 저장되는 것을 방지
* 응용 프로그램 제작 및 수정 용이 : 통일된 방식으로 응용프로그램 작성 및 유지, 보수 쉬움
* 안정성 향상 : 데이터의 손상 문제가 발생해도 복원 또는 복구 가능

## 스키마와 인스턴스
* 스키마(schema) : DB에 저장되는 데이터 **구조**와 **제약조건**을 정의
* 인스턴스(instance) : 스키마에 따라 실제로 저장된 **값**

## 3단계 데이터베이스 구조
> 관점에 따라 하나의 DB를 세 단계로 나눈 것
* 외부 단계(가장 추상적) : 개별 사용자 관점
  * 하나의 db에 외부 스키마 여러가 존재 가능
  * 외부 스키마 : 
    * 논리적 구조로 사용자마다 다름. 
    * 서브 스키마 라고도 함.
* 개념 단계 : 조직 전체의 관점
  * 하나의 db에 개념 스키마 하나만 존재
  * 개념 스키마 :
    * 논리적 구조
    * 제약조건 뿐 아니라 보안 정책이나 접근 권한에 대한 정의도 포함
* 내부 단계 : 저장 장치의 관점
  * 하나의 db에 내부 스키마 하나만 존재
  * 내부 스키마:
    * 저장 장치에 실제로 저장되는 방법
    * 물리적 저장 구조를 정의

## 3단계 데이터벵이스 구조의 사상 또는 매핑
> 스키마 사이의 대응 관계

* 외부/개념 사상 : 응용 인터페이스
* 개념/내부 사상 : 저장 인터페이스

## 데이터 독립성
> 하위 스키마를 변경해도 상위 스키마가 영향을 받지 않는 특성
* 논리적 데이터 독립성 : 개념스키마가 변경되어도 외부스키마는 여향을 받지 않음
* 물리적 데이터 독립성 : 내부스키마가 변경되어도 개념스키마는 영향을 받지 않음

## 데이터베이스 사용자
> 이용 목적에 따라 구분
* DBA : 데이터베이스 시스템을 운영하고 관리
* 최종 사용자(일반 사용자) : 데이터베이스에 접근하여 데이터를 조작
  * 캐주얼 사용자, 초보 사용자
* 응용 프로그래머 : 데이터 언어를 삽입하여 응용 프로그램을 작성
  * 주로 DML사용

### DCL
* 사용 목적:
  * 무결성 : 정확하고 유효한 데이터만 유지
  * 보안 : 허가된 사용자에게 권한 부여
  * 회복 : 데이터의 일관성 유지
  * 동시성 제어 : 데이터 동시 공유 지원

## 2단계 데이터 모델링
* 개념적 데이터 모델링 :
  * 현실 세계의 중요 데이터를 추출하여 개념 세계로 옮기는 작업
* 논리적 데이터 모델링 :
  * 개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현하는 작업

## 데이터 모델 : 데터 모델링의 결과ㄹ을 표현하는 도구
* 개념적 데이터 모델 :
  * 사람이 이해할 수 있도록 현실 세계를 개념적 모델링하여 DB의 개념적 구조로 표현하는 도구
  * 개체(entity)-관계(relationship) 모델
    * 핵심 요소 : 개체, 속성, 관계
* 논리적 데이터 모델 :
  * 개념적 구조를 논리적으로 모델링하여 DB의 논리적 구조로 표현하는 도구(ex. 관계 데이터 모델)

## 데이터 모델의 구성
* 데이터 구조
  * 개념적 데이터 모델에서 개념적 구조
    * 현실 세계를 개념 세계로 추상화했을 때 **어떤 요소**로 이루어져 있는지 표현
  * 논리적 데이터 모델에서 논리적 구조
    * 데이터를 **어떤 모습**으로 저장할 것인지 표현
  * 정적 특징
* 연산 
  * 실제로 표현된 값들을 처리하는 작업
  * 동적 특징
* 제약조건 -> 데이터 무결성 유지 목적
  * 구조적 측면의 제약 사항
  * 연산을 적용하는 경우 허용할 수 있는 의미적 측면의 제약 사항

### 개체
* 현실 세계에서 조직을 운영하는 데 꼭 필요한 사람이나 사물과 같이 구별되는 모든 것
* 저장할 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물, 개념, 사건 등
* 속성을 하나 이상 가지고 있음
  * 사각형으로 표현하고 사각형 안에 이름을 표기

### 속성
* 개체나 관계가 가진 고유한 특성
* 의미 있는 데이터의 가장 작은 논리적 단위
* 파일구조의 필드와 대응됨
  * 타원으로 표현하고 그 안에 이름을 표기
* 단일 값 속성, 다중 값 속성 - 이중 타원
* 단순 속성, 복합 속성
* 유도 속성 :
  * 값이 별도로 저장되지 않음 - 점선 타원
  * ex.고객개체의 출생연도 속성으로 계산되는 나이 속성
* 널 속성 : 널 값이 허용되는 속성
* 키 속성 - 밑줄
  * 개체 인스턴스를 식별하는 데 사용되는 속성
  * 모든 개체 인스턴스의 키 속성 값이 다름
  * 둘 이상의 속성들로 구성되기도 함

### 개체 타입
* 개체를 고유한 이름과 속성들로 정의한 것
* 파일 구조의 레코드 타입에 대응됨

### 개체 인스턴스
* 개체를 구성하는 속성이 **실제 값**을 가진 실제화된 개체
* 개체 어커런스
* 파일 구조의 레코드 인스턴스에 대응됨

### 개체 집합
* 특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것

### 관계
* 개체와 개체가 맺고 있는 의미 있는 연관성, 대응 관계
* 마름모
  
### 관계의 유형
* 관계에 참여하는 개체 타입의 수 기준
  * 이항 관계
  * 삼항 관계
  * 순환 관계
  * 
* 매핑 카디널리티 기준
  >매핑 가디널리티 : 관계를 맺는 두 개체 집합에서, 각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
  * 1:1 -> list
  * 1:n -> tree
  * n:m -> graph

* 관계의 참여 특성
  * 필수적 참여(전체 참여) - 이중선
  * 선택적 참여(부분 참여)

* 관계의 종속성
  * 약한 개체 - 이중 사각형
  * 강한 개체
  * 특징
    * 강한 개체와 약한 개체는 일반적으로 일대다의 관계
    * 약한 개체는 강한 개체와의 관계에 필수적으로 참여
    * 약한 개체는 강한 개체의 키를 포함하여 키를 구성
  * 약한 개체와 강한 개체의 관계 - 이중 마름모

## 논리적 데이터 모델의 개념
* E-R 다이어그램으로 표현된 개념적 구조를 데이터베이스에 저장할 형태로 표현한 논리적 구조(스키마)
* 사용자가 생각하는 데이터베이스의 모습 또는 구조
* ex. 관계 데이터 모델, 계층 데이터 모델, 네트워크 데이터 모델 등
### 관계 데이터 모델
* 일반적으로 많이 사용되는 논리적 데이터 모델
* 논리적 구조가 2차원 테이블 형태
### 계층 데이터 모델
* 논리적 구조가 트리 형태
* 사이클 X
* 개체 간 상하 관계가 성립, 하나의 관계만 정의 가능
* 다대다 관계 X
* 개념적 구조를 모델링하기 어려워 구조가 복잡해질 수 있음
* 데이터의 삽입,삭제,수정,검색이 쉽지 않음
### 네트워크 데이터 모델
* 논리적 구조가 그래프 형태
* 개체간 일대다 관계만(다대다X) 허용 (오너/멤버), 관계를 여러 개 정의할 수 있어서 이름으로 구별함
* 구조가 복잡하고 데이터의 삽입,삭제,수정,검색이 쉽지 않음


